# App性能调优说明
**交互体验是App最主要关心的重点**

不重要的点

电量优化、网络优化：在穿戴开发中较关注，不再重要

启动优化：启动器（阿里的alpha）

安装包大小优化：lint检查无用资源，图片资源压缩，aab打包

##### 主要表象
1. crash--最严重的
2. ANR--非常严重
3. 卡顿--滑动列表的时候掉帧、系统启动慢、应用启动白屏过长、点击电源键亮屏慢、
界面操作没有反应然后闪退、点击图标没有响应、窗口动画不连贯、滑动不跟手、重启手机进入桌面卡顿等场景

## 
crash和ANR问题爆发时，LOG都有说明，好解决；

相反，卡顿有时候，日志中并没有明确日志，用户感知也难以量化。

##### 卡顿定义
本该更新的画面，出现一帧或者多帧没有绘制。App掉帧的原因非常多，有APP本身的问题，有系统原因导致卡顿的，整机卡的。

##### 
主要原因：主线程的 Message 在执行对应逻辑的时间过长

##### 检测手段
Android studio的profile

开发过程中leakcanary

分析主要使用Systrace，新推荐Perfetto

##### 主要原因
1. 内存占用过高（内存泄漏，代码逻辑异常）

##### 事例
虚拟形象内存占用高，launcher持有多个虚拟形象实例，同时在运行